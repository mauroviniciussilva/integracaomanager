<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>EpbxManager Atendimento Cliente</title>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />

    <link rel="stylesheet" href="assets/main.css" />

    <!-- HTML5 shim and Respond.js para IE8 -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <div id="loadingPage" class="glyphicon glyphicon-refresh glyphicon-spin"></div>
    <div class="col-md-4 col-md-offset-4 hidden" id="pageContainer">
        <div class="container-fluid">
            <div id="alertError" class="alert alert-danger" role="alert">Erro ao realizar o login. Tente novamente ou contate o suporte</div>

            <div id="loginForm" class="row vertical-offset-100">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Login</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <label for="usernameInput">Usuário</label>
                                        <input type="text" id="usernameInput" class="form-control" value="" />
                                    </div>
                                    <div class="form-group">
                                        <label for="passwordInput">Senha</label>
                                        <input type="password" id="passwordInput" class="form-control" value="" />
                                    </div>

                                    <div class="form-group">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-sm-1 pull-left">
                                                    <input type="radio" name="isIpOuHd" id="optionIsIP" value="IP">
                                                </div>
                                                <label for="optionIsIP" class="col-sm-4 control-label pull-left">CTI IP</label>

                                                <label for="optionIsHD" class="col-sm-4 control-label pull-right">CTI HD</label>
                                                <div class="col-sm-1 pull-right">
                                                    <input type="radio" name="isIpOuHd" id="optionIsHD" value="IP">
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="ipInput">IP ou Ramal</label>
                                        <input type="text" id="ipInput" class="form-control" value="" />
                                    </div>

                                    <div class="form-group">
                                        <label for="idPaInput">Id PA</label>
                                        <input type="text" id="idPaInput" class="form-control" value="" />
                                    </div>

                                    <button type="submit" id="loginSubmit" class="btn btn-success btn-block"
                                        data-loading-text="<span class='glyphicon glyphicon-refresh glyphicon-spin'></span> Aguarde...">
                                        Logar
                                    </button>
                                </form>

                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div id="ramalLivreDiv" class="row vertical-offset-100">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title" id="titleRamalLogado">Ramal Logado</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <label id="intervaloStatus" class="label label-primary">Carregando status</label>
                                    </div>

                                    <div class="form-group">
                                        <label for="discarInput">Discar para</label>
                                        <input type="text" id="discarInput" class="form-control" />
                                    </div>

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="externoCheckbox" /> Número externo ?
                                        </label>
                                    </div>

	                                <div class="form-group">
                                        <input type="submit" id="btnDiscar" value="Discar" class="btn btn-success btn-block" />
                                    </div>

                                    <div class="form-group">
                                        <input type="button" value="Deslogar" id="btnDeslogar" class="btn btn-danger btn-block" />
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Alterar Intervalo</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <!--<label for="intervaloSelect">Intervalo</label>-->
                                        <select id="intervaloSelect" class="form-control">
                                            <option value="-1">Selecione um intervalo</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <input type="button" value="Alterar" id="btnAlterarIntervalo" class="btn btn-success btn-block" />
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Capturar Chamada</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <label for="capturarInput">Ramal a capturar</label>
                                        <input type="text" id="capturarInput" class="form-control" />
                                    </div>
                                    <div class="form-group">
                                        <input type="button" value="Capturar" id="btnCapturar" class="btn btn-success btn-block" />
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Conferência</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <label>Adicionar número</label>
                                        <input type="text" id="conferenciaAddInput" class="form-control" />
                                    </div>
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="conferenciaExternoCheckbox" /> Número externo ?
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <input type="submit" value="Adicionar" id="btnConferenciaAdicionar" class="btn btn-success btn-block" />
                                    </div>
                                    <div>
                                        <ul class="list-group" id="conferenciaNumerosList">
                                        </ul>
                                    </div>
                                    <div class="form-group">
                                        <input type="button" value="Iniciar Conferência" id="btnConferenciaIniciar" class="btn btn-info btn-block" />
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default" id="downloadChamadaPanel">
                    <div class="panel-heading">
                        <h3 class="panel-title">Download da Última Chamada</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <label>Global Id:</label>
                                        <div id="globalIdLabel"></div>
                                    </div>
                                    <div class="form-group">
                                        <a href="#" id="btnDownloadChamada" class="btn btn-success btn-block" target="_blank">Download</a>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="ramalAtendimentoDiv" class="row vertical-offset-100">
                <div class="panel panel-default" id="emChamadaDiv">
                    <div class="panel-heading">
                        <h3 class="panel-title">Em Atendimento</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <h4>Ramal em Uso</h4>
                                        <br />
                                        <span></span>
                                        <div id="chamadaDiscadorDiv"></div>
                                    </div>

                                    <input type="submit" id="btnDesligarChamada" value="Desligar" class="btn btn-danger" />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default" id="esperaPanel">
                    <div class="panel-heading">
                        <h3 class="panel-title">Espera</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <input type="button" id="btnEspera" value="Colocar em Espera" class="btn btn-info btn-block" />
                                    <input type="button" id="btnTiraEspera" value="Tira da Espera" class="btn btn-success btn-block" />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default" id="transferirEtapa1Panel">
                    <div class="panel-heading">
                        <h3 class="panel-title">Transferir Chamada</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <div class="form-group">
                                        <label for="transferirInput">Transferir para</label>
                                        <input type="text" id="transferirInput" class="form-control" />
                                    </div>

                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="transferirExternoCheckbox" /> Número externo ?
                                        </label>
                                    </div>

                                    <input type="submit" id="btnConsultar" value="Consultar" class="btn btn-info btn-block" />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default" id="transferirEtapa2Panel">
                    <div class="panel-heading">
                        <h3 class="panel-title">Em Consulta</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
							<div class="row">
								<div class="form-group">
									<h4>Chamada em espera</h4>
									<ul class="list-group" id="chamadasEmEsperaList"></ul>
								</div>
							</div>
                            <div class="row">
                                <form>
                                    <input type="button" id="btnTransferir" value="Transferir" class="btn btn-success btn-block" />
                                    <input type="button" id="btnLiberarConsulta" value="Cancela Consulta" class="btn btn-danger btn-block" />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div id="ramalConferenciaDiv" class="row vertical-offset-100">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Em Conferência</h3>
                    </div>
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row">
                                <form>
                                    <input type="submit" id="btnConferenciaTerminar" value="Terminar Conferência" class="btn btn-danger" />

                                    <div class="form-group">
                                        <h4>Participantes</h4>
                                        <ul class="list-group" id="conferenciaParticipantesList">
                                        </ul>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts/Libs obrigatorias -->
    <!-- JQuery 1.6.4 ou superior (pode-se servir o jquery de qualquer servidor ou CDN, desde que a versão seja compativel com o signalr)
        Nota: Não é compátivel com a versao jquery 3.1 slim. Necessário jquery full.

        Para o modo de compatibilidade com IE 7, 8 e 9, o signalr precisa de 2 libs adicionais:
        json2: 
            faz o parser das respostas json. Necessário para o signalr e autenticação na webapi
        jquery-ajaxtransport-xdomainrequest: 
            permite ao jquery realizar chamadas ajax cross domain (CORS). 
            Necessário para a autenticação na webapi. 
            Se o cliente possuir outra forma de realizar chamadas ajax ou buscar o token, então esta lib não será necessária
    -->

    <!--<script src="http://integracao.epbx.com.br/Service/scripts/jquery-3.1.0.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/json2/20160511/json2.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ajaxtransport-xdomainrequest/1.0.4/jquery.xdomainrequest.min.js"></script>
    <![endif]-->
    <script src="http://integracao.epbx.com.br/Service/scripts/jquery.signalR.min.js"></script>
    <script src="http://integracao.epbx.com.br/Service/signalr/hubs"></script>

    <!-- Scripts do dominio da aplicação -->
    <script src="app/epbxManagerConfig.js"></script>
    <script src="app/epbxManagerConnection.js"></script>
    <script src="app/app.js"></script>

    <!-- bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
</body>

</html>